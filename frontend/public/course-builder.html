<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Builder | LearnFlow - All-in-One Education Business Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .gradient-text {
            background: linear-gradient(135deg, #2563eb, #9333ea);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .gradient-border {
            background: linear-gradient(135deg, #2563eb, #9333ea);
        }

        .builder-container {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 1.5rem;
            overflow: hidden;
        }

        .sidebar {
            width: 260px;
            background: white;
            border-right: 1px solid #e5e7eb;
        }

        .editor-area {
            flex: 1;
            background: white;
        }

        .drag-handle {
            cursor: grab;
        }

        .node {
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .node:hover {
            border-color: #2563eb;
            background: #eff6ff;
        }
    </style>
</head>

<body class="bg-gray-50 text-gray-900 overflow-x-hidden">

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 glass h-16 flex items-center border-b border-gray-100">
        <div class="max-w-7xl mx-auto px-6 w-full flex justify-between items-center">
            <a href="preview.html" class="flex items-center space-x-2">
                <div
                    class="w-8 h-8 rounded-lg gradient-border flex items-center justify-center text-white font-bold text-xs uppercase tracking-tighter">
                    L</div>
                <span class="text-xl font-bold gradient-text">LearnFlow</span>
            </a>
            <nav class="hidden md:flex items-center space-x-8 text-sm font-medium text-gray-600">
                <a href="features.html" class="hover:text-blue-600 transition-colors">Features</a>
                <a href="pricing.html" class="hover:text-blue-600 transition-colors">Pricing</a>
                <a href="ai-resources.html" class="hover:text-blue-600 transition-colors">AI Resources</a>
                <a href="tutorials.html" class="hover:text-blue-600 transition-colors">Tutorials</a>
                <a href="about.html" class="hover:text-blue-600 transition-colors">About</a>
            </nav>
            <div class="flex items-center space-x-4">
                <a href="signup.html"
                    class="px-5 py-2 rounded-lg text-sm font-bold bg-gray-900 text-white hover:bg-gray-800 transition-all">Publish
                    Course</a>
            </div>
        </div>
    </header>

    <!-- Builder Interface -->
    <main class="pt-24 pb-12 px-6 min-h-screen">
        <div class="max-w-7xl mx-auto">
            <div class="mb-8">
                <h1 class="text-3xl font-bold mb-2">Smart <span class="gradient-text">Course Builder</span></h1>
                <p class="text-gray-500">Drag, drop, and automate your curriculum creation with AI.</p>
            </div>

            <div class="builder-container shadow-2xl flex h-[700px]">
                <!-- Sidebar Tools -->
                <aside class="sidebar p-6 hidden md:block">
                    <h3 class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-6">Components</h3>
                    <div class="space-y-3">
                        <div
                            class="p-3 bg-gray-50 rounded-xl border border-gray-100 flex items-center drag-handle hover:bg-white hover:shadow-sm transition-all">
                            <span class="mr-3">üìÑ</span>
                            <span class="text-sm font-medium">Text Lesson</span>
                        </div>
                        <div
                            class="p-3 bg-gray-50 rounded-xl border border-gray-100 flex items-center drag-handle hover:bg-white hover:shadow-sm transition-all">
                            <span class="mr-3">üìΩÔ∏è</span>
                            <span class="text-sm font-medium">Video Player</span>
                        </div>
                        <div
                            class="p-3 bg-gray-50 rounded-xl border border-gray-100 flex items-center drag-handle hover:bg-white hover:shadow-sm transition-all">
                            <span class="mr-3">‚ùì</span>
                            <span class="text-sm font-medium">Interactive Quiz</span>
                        </div>
                        <div
                            class="p-3 bg-gray-50 rounded-xl border border-gray-100 flex items-center drag-handle hover:bg-white hover:shadow-sm transition-all">
                            <span class="mr-3">üìÅ</span>
                            <span class="text-sm font-medium">Downloadable File</span>
                        </div>
                        <div
                            class="p-3 bg-gray-50 rounded-xl border border-gray-100 flex items-center drag-handle hover:bg-white hover:shadow-sm transition-all text-blue-600 border-blue-100 bg-blue-50">
                            <span class="mr-3">‚ú®</span>
                            <span class="text-sm font-bold tracking-tight">AI Multi-Generator</span>
                        </div>
                    </div>

                    <div class="mt-12 p-4 bg-indigo-50 rounded-2xl border border-indigo-100">
                        <p class="text-[10px] font-bold text-indigo-600 uppercase mb-2">Pro Tip</p>
                        <p class="text-[11px] text-gray-600 leading-relaxed">Type <kbd
                                class="px-1 py-0.5 bg-white border border-gray-200 rounded">/ai</kbd> anywhere to
                            trigger the AI lesson writer.</p>
                    </div>
                </aside>

                <!-- Editor Canvas -->
                <section class="editor-area p-8 flex flex-col">
                    <div
                        class="border-2 border-dashed border-gray-100 rounded-3xl p-10 flex-1 overflow-y-auto space-y-6">
                        <!-- Module 1 -->
                        <div class="node p-5 bg-white rounded-2xl shadow-sm border border-gray-100">
                            <div class="flex justify-between items-center mb-4">
                                <div class="flex items-center">
                                    <span class="text-blue-600 font-bold mr-3">1.0</span>
                                    <h4 class="font-bold text-lg">Introduction to Modern Architecture</h4>
                                </div>
                                <button class="text-gray-300 hover:text-gray-500">¬∑¬∑¬∑</button>
                            </div>
                            <div class="space-y-2">
                                <div class="p-3 bg-gray-50 rounded-lg text-sm flex items-center">
                                    <span class="mr-3">üìΩÔ∏è</span> The History of Skyscraper Design (12:45)
                                </div>
                                <div class="p-3 bg-gray-50 rounded-lg text-sm flex items-center">
                                    <span class="mr-3">üìÑ</span> Module Summary & Reading List
                                </div>
                            </div>
                        </div>

                        <!-- Module 2 -->
                        <div class="node p-5 bg-white rounded-2xl shadow-sm border border-gray-100 opacity-60">
                            <div class="flex items-center mb-4">
                                <span class="text-gray-400 font-bold mr-3">2.0</span>
                                <h4 class="font-bold text-lg text-gray-400">Structural Foundations...</h4>
                            </div>
                        </div>

                        <!-- AI Insertion Point -->
                        <div
                            class="py-10 text-center border-2 border-dashed border-blue-100 rounded-3xl bg-blue-50/30 group cursor-pointer hover:bg-blue-50 transition-colors">
                            <div class="inline-flex items-center text-blue-600 font-bold">
                                <span class="mr-2">‚ú®</span> Generate next 3 modules with FlowAI
                            </div>
                            <p class="text-xs text-blue-400 mt-2">Personalized based on current course trajectory</p>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-black text-white py-20 px-6">
        <div class="max-w-7xl mx-auto grid md:grid-cols-4 gap-12 border-b border-gray-800 pb-16 text-left">
            <div>
                <div class="flex items-center space-x-2 mb-6">
                    <div class="w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center text-white font-bold">L
                    </div>
                    <span class="text-xl font-bold text-white">LearnFlow</span>
                </div>
                <p class="text-gray-400 text-sm">Empowering educators with AI.</p>
            </div>
            <div>
                <h4 class="font-bold mb-6">Platform</h4>
                <ul class="text-gray-400 text-sm space-y-4">
                    <li><a href="course-builder.html" class="hover:text-white transition">Course Builder</a></li>
                    <li><a href="site-builder.html" class="hover:text-white transition">Site Builder</a></li>
                    <li><a href="pricing.html" class="hover:text-white transition">Pricing Plans</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-6">Partnerships</h4>
                <ul class="text-gray-400 text-sm space-y-4">
                    <li><a href="affiliate.html"
                            class="block w-full text-left px-4 py-2 bg-yellow-400/10 text-yellow-500 rounded-xl border border-yellow-400/20 hover:bg-yellow-400/20 transition-all text-xs font-bold uppercase tracking-widest text-center">Become
                            an Affiliate</a></li>
                    <li><a href="partner.html"
                            class="block w-full text-left px-4 py-2 bg-blue-400/10 text-blue-400 rounded-xl border border-blue-400/20 hover:bg-blue-400/20 transition-all text-xs font-bold uppercase tracking-widest text-center">Become
                            a Partner</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold mb-6">Resources</h4>
                <ul class="text-gray-400 text-sm space-y-4">
                    <li><a href="tutorials.html" class="hover:text-white transition">Full Academy</a></li>
                    <li><a href="contact.html" class="hover:text-white transition">Support</a></li>
                </ul>
            </div>
        </div>
        <div class="max-w-7xl mx-auto pt-8 text-gray-500 text-xs text-center">
            <p>¬© 2026 LearnFlow. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Drag and Drop Functionality
        document.addEventListener('DOMContentLoaded', function () {
            const sidebar = document.querySelector('.sidebar');
            const editorArea = document.querySelector('.editor-area > div');
            const dragHandles = document.querySelectorAll('.drag-handle');
            const nodes = document.querySelectorAll('.node');

            let draggedElement = null;
            let draggedType = null;

            // Make sidebar components draggable
            dragHandles.forEach(handle => {
                handle.setAttribute('draggable', 'true');

                handle.addEventListener('dragstart', function (e) {
                    draggedElement = this;
                    draggedType = 'component';
                    this.style.opacity = '0.5';
                    e.dataTransfer.effectAllowed = 'copy';
                    e.dataTransfer.setData('text/html', this.innerHTML);
                });

                handle.addEventListener('dragend', function (e) {
                    this.style.opacity = '1';
                    draggedElement = null;
                });
            });

            // Make existing nodes draggable and sortable
            nodes.forEach(node => {
                node.setAttribute('draggable', 'true');

                node.addEventListener('dragstart', function (e) {
                    draggedElement = this;
                    draggedType = 'node';
                    this.style.opacity = '0.5';
                    e.dataTransfer.effectAllowed = 'move';
                });

                node.addEventListener('dragend', function (e) {
                    this.style.opacity = '1';
                    draggedElement = null;
                    // Remove all drag-over classes
                    document.querySelectorAll('.drag-over').forEach(el => {
                        el.classList.remove('drag-over');
                    });
                });

                node.addEventListener('dragover', function (e) {
                    e.preventDefault();
                    if (draggedType === 'node' && draggedElement !== this) {
                        this.classList.add('drag-over');
                    }
                });

                node.addEventListener('dragleave', function (e) {
                    this.classList.remove('drag-over');
                });

                node.addEventListener('drop', function (e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');

                    if (draggedType === 'node' && draggedElement !== this) {
                        // Swap positions
                        const allNodes = Array.from(editorArea.querySelectorAll('.node'));
                        const draggedIndex = allNodes.indexOf(draggedElement);
                        const targetIndex = allNodes.indexOf(this);

                        if (draggedIndex < targetIndex) {
                            this.parentNode.insertBefore(draggedElement, this.nextSibling);
                        } else {
                            this.parentNode.insertBefore(draggedElement, this);
                        }
                    }
                });
            });

            // Make editor area droppable
            editorArea.addEventListener('dragover', function (e) {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'copy';
                this.style.borderColor = '#3b82f6';
                this.style.backgroundColor = '#eff6ff';
            });

            editorArea.addEventListener('dragleave', function (e) {
                if (e.target === this) {
                    this.style.borderColor = '';
                    this.style.backgroundColor = '';
                }
            });

            editorArea.addEventListener('drop', function (e) {
                e.preventDefault();
                this.style.borderColor = '';
                this.style.backgroundColor = '';

                if (draggedType === 'component' && draggedElement) {
                    // Get component name
                    const componentName = draggedElement.querySelector('span:last-child').textContent;
                    const componentIcon = draggedElement.querySelector('span:first-child').textContent;

                    // Create new node
                    const newNode = document.createElement('div');
                    newNode.className = 'node p-5 bg-white rounded-2xl shadow-sm border border-gray-100';
                    newNode.setAttribute('draggable', 'true');

                    const moduleNumber = editorArea.querySelectorAll('.node').length + 1;

                    newNode.innerHTML = `
                        <div class="flex justify-between items-center mb-4">
                            <div class="flex items-center">
                                <span class="text-blue-600 font-bold mr-3">${moduleNumber}.0</span>
                                <h4 class="font-bold text-lg">New ${componentName}</h4>
                            </div>
                            <button class="text-gray-300 hover:text-red-500 delete-node" title="Delete">üóëÔ∏è</button>
                        </div>
                        <div class="space-y-2">
                            <div class="p-3 bg-gray-50 rounded-lg text-sm flex items-center">
                                <span class="mr-3">${componentIcon}</span> ${componentName} Content
                            </div>
                        </div>
                    `;

                    // Insert before AI insertion point
                    const aiPoint = editorArea.querySelector('.border-blue-100');
                    editorArea.insertBefore(newNode, aiPoint);

                    // Add drag functionality to new node
                    addNodeDragFunctionality(newNode);

                    // Add delete functionality
                    newNode.querySelector('.delete-node').addEventListener('click', function () {
                        if (confirm('Delete this module?')) {
                            newNode.remove();
                            renumberModules();
                        }
                    });

                    // Show success message
                    showNotification(`${componentName} added successfully!`);
                }
            });

            // Function to add drag functionality to new nodes
            function addNodeDragFunctionality(node) {
                node.addEventListener('dragstart', function (e) {
                    draggedElement = this;
                    draggedType = 'node';
                    this.style.opacity = '0.5';
                    e.dataTransfer.effectAllowed = 'move';
                });

                node.addEventListener('dragend', function (e) {
                    this.style.opacity = '1';
                    draggedElement = null;
                    document.querySelectorAll('.drag-over').forEach(el => {
                        el.classList.remove('drag-over');
                    });
                });

                node.addEventListener('dragover', function (e) {
                    e.preventDefault();
                    if (draggedType === 'node' && draggedElement !== this) {
                        this.classList.add('drag-over');
                    }
                });

                node.addEventListener('dragleave', function (e) {
                    this.classList.remove('drag-over');
                });

                node.addEventListener('drop', function (e) {
                    e.preventDefault();
                    this.classList.remove('drag-over');

                    if (draggedType === 'node' && draggedElement !== this) {
                        const allNodes = Array.from(editorArea.querySelectorAll('.node'));
                        const draggedIndex = allNodes.indexOf(draggedElement);
                        const targetIndex = allNodes.indexOf(this);

                        if (draggedIndex < targetIndex) {
                            this.parentNode.insertBefore(draggedElement, this.nextSibling);
                        } else {
                            this.parentNode.insertBefore(draggedElement, this);
                        }
                        renumberModules();
                    }
                });
            }

            // Function to renumber modules
            function renumberModules() {
                const allNodes = editorArea.querySelectorAll('.node');
                allNodes.forEach((node, index) => {
                    const numberSpan = node.querySelector('.text-blue-600');
                    if (numberSpan) {
                        numberSpan.textContent = `${index + 1}.0`;
                    }
                });
            }

            // Function to show notification
            function showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'fixed top-20 right-6 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg z-50 animate-slide-in';
                notification.textContent = message;
                document.body.appendChild(notification);

                setTimeout(() => {
                    notification.style.opacity = '0';
                    notification.style.transform = 'translateX(100%)';
                    setTimeout(() => notification.remove(), 300);
                }, 2000);
            }

            // Add delete functionality to existing nodes
            nodes.forEach(node => {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'text-gray-300 hover:text-red-500 delete-node ml-2';
                deleteBtn.textContent = 'üóëÔ∏è';
                deleteBtn.title = 'Delete';

                const header = node.querySelector('.flex.justify-between');
                if (header && !header.querySelector('.delete-node')) {
                    const rightSection = header.querySelector('button');
                    if (rightSection) {
                        rightSection.parentNode.insertBefore(deleteBtn, rightSection);
                    } else {
                        header.appendChild(deleteBtn);
                    }
                }

                deleteBtn.addEventListener('click', function () {
                    if (confirm('Delete this module?')) {
                        node.remove();
                        renumberModules();
                        showNotification('Module deleted');
                    }
                });
            });

            // AI Generator click handler
            const aiGenerator = document.querySelector('.border-blue-100.bg-blue-50\\/30');
            if (aiGenerator) {
                aiGenerator.addEventListener('click', function () {
                    showNotification('AI generation feature coming soon!');
                    // In production, this would call your AI API
                });
            }
        });
    </script>

    <style>
        .drag-over {
            border-color: #3b82f6 !important;
            background: #eff6ff !important;
            transform: scale(1.02);
        }

        @keyframes slide-in {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .animate-slide-in {
            animation: slide-in 0.3s ease-out;
            transition: all 0.3s ease;
        }
    </style>

</body>

</html>